name: CI
on: [push]
jobs:
  build:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v1
      - name: Configure AWS Credentials
        uses: aws-actions/configure-aws-credentials@v1
        with:
          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          aws-region: eu-west-2
      
      - name: install dependencies
        run: npm install
     
      - name: S3 and CloudFront Deploy
        uses: lbertenasco/s3-deploy@v1.2.4
        with:
          folder: C:\Users\zacfr\OneDrive\Desktop\visitor-counter (1)\visitor-counter\dist
          bucket: zacsresume.com
          dist-id: E3L31PEXV3KQZH
          invalidation: I2GSTZIXAG5JJX
 
